March 1st, 2002  ivtools-1.0.2

- add -stdin_off argument to comdraw/flipbook/graphdraw/drawserv to
disable a comterp interpreter on stdin.

- changes required to get things compiling with Cygwin under Windows 2K

- try -gdwarf-2 as a compilation option for debugging with gdb-5.1 and
gcc-3.0.*.  Not sure if there was an improvement.  Maybe this is already
the default.

- fix bug in GraphicLoc tool, where the text wasn't refreshed on subsequent
uses after the dialog box had been unmapped.

- make the "Show Prev Frame" command of flipbook take effect
immediately (same for "Hide Prev Frame").  Needed to call
FrameEditor::UpdateFrame as well as Unidraw::Update.

- fix submitted by E.J. Neafsey (Loyola University) for drawing
multi-point graphics with shift key pressed to make all the lines
either completely horizontal or vertical.  The shift key always
worked, yet the origin used (for limiting motion to the horizontal or
vertical) was never updated to the last vertex as the new points were
added.

- added alpha-transparency to raster display.  It works, but there is
no save/restore of the alpha value, or user interface to set or view
the value.  However, you can use OverlayRasterRect::alphaval() to
set/get the constant (one per raster).  No PostScript output yet as
well.

- propogated "None" background color to all drawing editor's BgColor
menu.

- add an alpha command to comdraw, to set/get the alpha value of a raster
graphic:

	alpha(compview [alphaval]) -- set/get alpha transparency value

a command line like the following will spin a raster forward as it
appears (assume g is a variable pointing to a RasterComp, and the
current selection):

    for(x=0 x<10 x++ alpha(g float(x)/10);rotate(30);scale(1/.9 1/.9);update)

- partial changes for HPUX compilation.  There might be other problems
with the HP linker's desire to fully link a shared library when it is
built, and problems with parameters like ExtraCCFlags that might need
commenting out for reasons I don't understand (note -- it seems
this might be avoided by using "ld -r" instead of "gcc -shared").

- further work on comdraw whiteboard capability.  Setting up for a
distributed drawing environment by ensuring that all graphics can be
constructed via command line instead of directly.

- instituted (then disabled) a transparent pixel capability.  Needs an
API in comdraw or drawtool first.

- fix problem with hanging on stdin when comdraw/graphdraw/flipbook is
launched as a helper app from a web browser.

- all the changes necessary to bring up ivtools under Mac OS X (Darwin).

- fix rewind() vulnerability in early libstdc++-v3 iostreams.  Better
to close/reopen the file than rewind.


January 9th, 2002  ivtools-1.0.1

- add comdraw funcs to poke (grey-level) pixel values into a raster,
and return the horizontal and vertical extent of the raster:

	 poke(compview x y val) -- poke pixel value into raster
	 pcols(compview) -- number of columns in a raster
	 pcols(compview) -- number of rows in a raster

- sometimes you can accidentally create a polygon with zero points (or
a multi-line or spline).  Changes to safeguard against crashing
whenever this happens.

- fix bug in comterp stream traversal via NextFunc::execute_impl.  It
was leaving an extra null-value on the stack, which confused the
interpreter.

- add an undocumented debug comterp func, stackheight

- tweak of imake system to facilitate NetBSD packaging

- add "None" color to background color menu, exposing the hidden
fillbg flag (transparent background mechanism) for the first time in
the history of this software.

- fix drawing editor import's use of gunzip to decompress graphic
files.

- update config.guess and config.sub, support scripts for the
configure script from the autoconf package.  May fix some known
problems with HPUX, ALPHA, and ARM.

- add a comdraw command to create white rasters initialized with a 2
pixel wide black border:

	compview=raster(x0,y0,x1,y1) -- create an empty raster

- make equality and inequality operators work for list objects.  Note
that the "," list concatenation operator always appends the second
operand to the first operand if it is already a list, as illustrated
by this example ("> " inserted for clarity):

> l1=1,2,3
{1,2,3}
> l2=l1,4
{1,2,3,4}
> l1==l2
1

Alternately the "list" command can be used to create a distinct list:

> l1=1,2,3
{1,2,3}
> l2=list(l1),4
{1,2,3,4}
> l1==l2
0

- fix up some more handling of nil by arithmetic operators.  The rule
is nil in, nil out.

- minor fixup in comterp error message system

- pclip command for clipping of rasters via a polygonal point list:

 pclip(compview x1,y1,x2,y2,x3,y3[,...,xn,yn]) -- clip raster with polygon

- dtog and gtod commands for translating to/from graphic coordinates
to drawing coordinates:

 gx,gy=dtog(compview dx,dy) -- convert from drawing to graphic coordinates
 dx,dy=gtod(compview gx,gy) -- convert from graphic to drawing coordinates

- migration of conditional #define's from Time.c to Time.h by Todd Gruhn.

- work on stdin handling for comdraw, flipbook, graphdraw, and drawserv



November 2nd, 2001  ivtools-1.0

See CHANGES-0.9 for recent major changes.

Minor changes since Oct. 16th 2001 (ivtools-0.9.7):

- revise MANIFEST.comterp to reflect current state of comterp.

- fix comterp memcpy problem on 64 bit Alpha

- fix gcc-3.0.* build without ACE

- fix compilation of Time/Time.c on NETBSD.

- add :posteval flag to comterp help command in order to see which
commands are control constructs (post-evaluated, i.e. there arguments
are passed to them in an unevaluated state.  The result is:

  cond,for,help,if,list,next,posteval,postfix,stream,while

There are some post-evaluated operators as well.

- restore symid and symadd to be normal, non post-evaluated commands.
Didn't seem to be necessary, and making this change makes them
available for streaming.

- make confirmbox command return nil if Cancel is pressed.

- comterp operator streaming fixes, mostly along the lines of working
out nil termination in different circumstances.

- $ unary-prefix operator as a short-cut for stream command.  Useful
when copying the same stream many times in one command.

- each operator traverses a stream, exercising it until the end, and
returns the length count.

- make the AttributeValueList constructor that takes an
AttributeValueList* a truly deep copy.

- doc changes