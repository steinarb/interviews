# Makefile generated by imake - do not edit!
# $XConsortium: imake.c,v 1.51 89/12/12 12:37:30 jim Exp $

#
# "IVImake.tmpl" - generic imake template customized for InterViews
#
# Change platform-specific parameters in the appropriate .cf files.
# Define local site-specific parameters in IVlocal.def.  You may
# need a full rebuild after changing some parameters.
#

# architecture:  SGI

#
# generic make variables
#

            SHELL = /bin/sh

              TOP = ../../../.
      CURRENT_DIR = ./src/libTask
              SRC = .
           SHARED = Shared
                M = SGI
                X = X11

             AOUT = a.out
     AFTERINSTALL = $(RM)
               AR = ar scq
  BOOTSTRAPCFLAGS =
  BOOTSTRAPCPUCMD = /bin/sh $(SCRIPTSRC)/cpu.sh $(CONFIGSRC)
               CC = CC
              CPP = /lib/cpp $(STD_CPP_DEFINES)
    PREPROCESSCMD = cc -E $(STD_CPP_DEFINES)
           DEPEND = makedepend
     DEPENDCFLAGS = $(ALLDEFINES) -I/usr/include/CC
         GENCLASS = mkclass
            IMAKE = imake
        IMAKETMPL = "IVImake.tmpl"
        IMAKEOPTS = -T $(IMAKETMPL) -I$(CONFIGSRC) -I$(XCONFIGDIR)
          INSTALL = /bin/sh $(SCRIPTSRC)/bsdinst.sh
               LD = ld
             LINT = lint
      LINTLIBFLAG = -o
         LINTOPTS = -ax
               LN = ln -s
             MAKE = make X=$X $(MFLAGS)
        MKDIRHIER = /bin/sh $(SCRIPTSRC)/mkdirhier.sh
               MV = mv
               CP = cp
           RANLIB = /bin/true
  RANLIBINSTFLAGS =
               RM = rm -f
             TAGS = ctags
            TROFF = psroff
     STD_INCLUDES =
  STD_CPP_DEFINES = -DSYSV
      STD_DEFINES = -I/usr/include/bsd -DSVR3 -DSYSV -Wf,-XNh2000
  EXTRA_LIBRARIES =
 EXTRA_LOAD_FLAGS = -lrpcsvc -lsun -lbsd
    SHAREDCODEDEF = -DSHAREDCODE
         SHLIBDEF = -DATTSHAREDLIB

     INSTPGMFLAGS = -s
     INSTBINFLAGS = -m 0755
     INSTUIDFLAGS = -m 4755
     INSTLIBFLAGS = -m 0664
     INSTINCFLAGS = -m 0444
     INSTMANFLAGS = -m 0444
     INSTDATFLAGS = -m 0444
    INSTKMEMFLAGS = -m 2755 -g sys

         INCLUDES = -I$(SRC) -I$(INCLUDESRC)

      CDEBUGFLAGS =
       ALLDEFINES = $(STD_INCLUDES) $(INCLUDES) $(STD_DEFINES) $(DEFINES)
           CFLAGS = $(CDEBUGFLAGS) $(ALLDEFINES) $(EXTRA_CFLAGS)
        LINTFLAGS = $(LINTOPTS) -DLINT $(ALLDEFINES)
          LDFLAGS = $(CDEBUGFLAGS) $(LIBRARIES) \
		      $(SYS_LIBRARIES) $(EXTRA_LIBRARIES)

        IMAKE_CMD = $(IMAKE) $(IMAKEOPTS) $(EXTRA_IMAKEOPTS)
           RM_CMD = $(RM) .emacs_* *.CKP *.ln *.BAK *.bak *.a *.o *..c ,* *~ \
			a.out core errs tags TAGS make.log make.out

MSUBDIR=/$M

DEPLIBS =  $(IVSRC)/lib/libInterViews$(MSUBDIR)/libInterViews.a  $(IVSRC)/lib/libIV-$X$(MSUBDIR)/libIV-$X.a  $(IVSRC)/lib/libDispatch$(MSUBDIR)/libDispatch.a

#
# project-specific make variables
#

        USRLIBDIR = $(TOP)/installed/lib/$$CPU
           BINDIR = $(TOP)/installed/bin/$$CPU.$X
      LOCALBINDIR = $(TOP)/installed/bin/$$CPU
           INCDIR = $(TOP)/installed/include
        CONFIGDIR = $(TOP)/installed/config
       XCONFIGDIR = $(DESTDIR)/usr/lib/X11/config
          MANPATH = $(TOP)/installed/man
    MANSOURCEPATH = $(MANPATH)/man
           MANDIR = $(MANSOURCEPATH)n
        LIBMANDIR = $(MANSOURCEPATH)n

            IVSRC = $(TOP)/src
        CONFIGSRC = $(IVSRC)/config
       INCLUDESRC = $(IVSRC)/include
           BINSRC = $(IVSRC)/bin
         IMAKESRC = $(BINSRC)/imake
        SCRIPTSRC = $(BINSRC)/scripts
           MANSRC = $(IVSRC)/man

#
# libTask - source files for the tasking library
#

all::
	-@if [ -d $$CPU ]; then \
		echo "making all" "in $(CURRENT_DIR)/$$CPU"; \
		cd $$CPU; $(MAKE) EXTRA_CFLAGS='$(EXTRA_CFLAGS)' all; \
	else exit 0; fi

depend::
	-@if [ -d $$CPU ]; then \
		echo "depending" "in $(CURRENT_DIR)/$$CPU"; \
		cd $$CPU; $(MAKE)  depend; \
	else exit 0; fi

#
# common rules for all Makefiles
#

clean::
	$(RM_CMD) \#*

Makefile::
	-@if [ -f Makefile ]; then \
		$(RM) Makefile.bak; \
		$(MV) Makefile Makefile.bak; \
	else exit 0; fi
	$(IMAKE_CMD) -DTOPDIR=$(TOP) -DCURDIR=$(CURRENT_DIR)

install::
	-@if [ -d $$CPU ]; then \
		echo "installing" "in $(CURRENT_DIR)/$$CPU"; \
		cd $$CPU; $(MAKE) DESTDIR='$(DESTDIR)' install; \
	else exit 0; fi

clean::
	-@if [ -d $$CPU ]; then \
		echo "cleaning" "in $(CURRENT_DIR)/$$CPU"; \
		cd $$CPU; $(MAKE) RM_CMD='$(RM_CMD)' clean; \
	else exit 0; fi

Makefiles::
	@echo "Making Makefiles in $(CURRENT_DIR)/$$CPU"
	-@if [ ! -d $$CPU ]; then \
		mkdir $$CPU; \
		chmod g+w $$CPU; \
	else exit 0; fi
	-@if [ -f $$CPU/Makefile ]; then \
		$(RM) $$CPU/Makefile.bak; \
		$(MV) $$CPU/Makefile $$CPU/Makefile.bak; \
	else exit 0; fi
	@$(IMAKE_CMD) -s $$CPU/Makefile -DInMachineDepSubdir \
	-DTOPDIR=../$(TOP) -DCURDIR=$(CURRENT_DIR)/$$CPU

#
# dependencies generated by makedepend
#

